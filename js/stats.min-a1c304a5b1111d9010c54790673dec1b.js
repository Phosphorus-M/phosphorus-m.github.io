var Stats=function(){var n,i=Date.now(),c=i,r=1/0,h=0,f=1/0,x=0,m=0,u=0,e=document.createElement("div"),t=(e.id="stats",e.addEventListener("mousedown",function(e){e.preventDefault(),g(++u%2)},!1),e.style.cssText="width:80px;opacity:0.9;cursor:pointer",document.createElement("div")),d=(t.id="fps",t.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",e.appendChild(t),document.createElement("div")),a=(d.id="fpsText",d.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",d.innerHTML="FPS",t.appendChild(d),document.createElement("div"));for(a.id="fpsGraph",a.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",t.appendChild(a);a.children.length<74;){var l=document.createElement("span");l.style.cssText="width:1px;height:30px;float:left;background-color:#113",a.appendChild(l)}var o=document.createElement("div"),s=(o.id="ms",o.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",e.appendChild(o),document.createElement("div")),p=(s.id="msText",s.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",s.innerHTML="MS",o.appendChild(s),document.createElement("div"));for(p.id="msGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",o.appendChild(p);p.children.length<74;)(l=document.createElement("span")).style.cssText="width:1px;height:30px;float:left;background-color:#131",p.appendChild(l);var g=function(e){switch(u=e){case 0:t.style.display="block",o.style.display="none";break;case 1:t.style.display="none",o.style.display="block"}};return{REVISION:11,domElement:e,setMode:g,begin:function(){i=Date.now()},end:function(){var e=Date.now(),t=(n=e-i,r=Math.min(r,n),h=Math.max(h,n),s.textContent=n+" MS ("+r+"-"+h+")",Math.min(30,30-n/200*30));return p.appendChild(p.firstChild).style.height=t+"px",m++,c+1e3<e&&(n=Math.round(1e3*m/(e-c)),f=Math.min(f,n),x=Math.max(x,n),d.textContent=n+" FPS ("+f+"-"+x+")",t=Math.min(30,30-n/100*30),a.appendChild(a.firstChild).style.height=t+"px",c=e,m=0),e},update:function(){i=this.end()}}};